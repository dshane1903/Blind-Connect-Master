var requestUrl = "https://api.projectoxford.ai/vision/v1.0/describe?maxCandidates=1";
var testImageUrl = "http://upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Bagel-Plain-Alt.jpg/250px-Bagel-Plain-Alt.jpg";
var testImageData = "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";
var request = require("request");
var atob = require("atob");

request({
  uri: requestUrl,
  method: "POST",
  headers: {
    "Content-Type": "application/octet-stream",
    "Ocp-Apim-Subscription-Key": "0ae68972dd774a458bacefaa1001b080"
  },
  body: Buffer.from(testImageData, "base64")
}, function(error, response, body) {
  var desired = getDescription(body);
  console.log(desired);
  return desired;
});

function getDescription(results) {
  var desired = JSON.parse(results);
  return desired.description.captions[0].text;
}

function setImageUrl(newImageUrl) {
  testImageUrl = newImageUrl;
}

function setImageData(newImageData) { // pass in base-64 without the stuff in front
  testImageData = newImageData;
}
